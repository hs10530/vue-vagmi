---
title: MetaMask
description: 'The MetaMaskConnector supports connecting with MetaMask.'
---

# MetaMask

The `MetaMaskConnector` supports connecting with MetaMask.

```ts
import { MetaMaskConnector } from 'vagmi/connectors/metaMask';
```

## Usage

```ts
import { MetaMaskConnector } from 'vagmi/connectors/metaMask';

const connector = new MetaMaskConnector();
```

## Configuration

### chains (optional)

Chains supported by app. Defaults to `defaultChains`.

```ts
import { chain } from 'vagmi';
import { MetaMaskConnector } from 'vagmi/connectors/metaMask';

const connector = new MetaMaskConnector({
  chains: [chain.mainnet, chain.optimism],
});
```

### options (optional)

Options for configuring the connector.

```ts
import { MetaMaskConnector } from 'vagmi/connectors/metaMask';

const connector = new MetaMaskConnector({
  options: {
    shimDisconnect: true,
  },
});
```

#### shimChainChangedDisconnect

Certain versions of MetaMask [emit the `"disconnect"` event when chain is changed](https://github.com/MetaMask/metamask-extension/issues/13375#issuecomment-1027663334). This flag prevents the `"disconnect"` event from being emitted upon switching chains. Defaults to `true`.

```ts
import { MetaMaskConnector } from 'vagmi/connectors/metaMask';

const connector = new MetaMaskConnector({
  options: {
    shimChainChangedDisconnect: false,
  },
});
```

#### shimDisconnect

MetaMask [does not support programmatic disconnect](https://github.com/MetaMask/metamask-extension/issues/10353). This flag simulates the disconnect behavior by keeping track of connection status in storage. Defaults to `true`.

```ts
import { MetaMaskConnector } from 'vagmi/connectors/metaMask';

const connector = new MetaMaskConnector({
  options: {
    shimDisconnect: false,
  },
});
```
